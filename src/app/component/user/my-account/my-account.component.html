<div class="container d-flex ps-5 ms-5 pt-5 mt-5">
  <div class="profile pt-3">
    <div class="profile-1">
      <ul>
        <li><ng-lottie [options]="options"></ng-lottie></li>
        <li>Hey,</li>
        <li>{{ userDetail.name }}</li>
      </ul>
    </div>
    <div class="profile-2">
      <ul>
        <li>
          <a><img src="assets/images/dbl1.png" alt="" /> All Bookings</a>
        </li>

        <li>
          <a><img src="assets/images/dbl6.png" alt="" /> My Profile</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="pt-3 ps-5">
    <div class="pb-3">
      <div class="card pb-4" style="width: 700px">
        <div class="card-header">My Profile</div>
        <div class="card-body">
          <table class="Booking-table">
            <tbody>
              <tr class="pb-2">
                <td>User Name</td>
                <td>:</td>
                <td>{{ userDetail.name }}</td>
              </tr>
              <tr class="pb-2">
                <td>Email</td>
                <td>:</td>
                <td>{{ userDetail.username }}</td>
              </tr>
              <tr class="pb-2">
                <td>Phone</td>
                <td>:</td>
                <td>{{ userDetail.phoneNumber }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="card">
      <div class="card-header">Travel Booking</div>
      <div class="card-body">
        <table class="Booking-table table table-striped">
          <thead>
            <tr>
              <th>tour</th>
              <th>username</th>
              <th>price</th>
              <th>bookingStatus</th>
              <th>Ordered At</th>
              <th>Invoice</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let b of bookings">
              <td>{{ b.tour }}</td>
              <td>{{ b.username }}</td>
              <td>{{ b.price | currency:'INR':'symbol':'1.0-0' }}</td>
              <td>{{ b.bookingStatus }}</td>
              <td>{{ b.createdAt | date:'MM-dd-yyyy'}}</td>
              <td><button class="btn1" (click)="togglePopup(b)">Download</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<div *ngIf="isPopupVisible" class="popup-container">
  <div class="popup invoice-container">
    <h4>Ticket Invoice</h4>
    <hr />
    <div class="invoice-details">
      <div>
        <strong>Invoice Number&nbsp;:&nbsp;</strong> {{ invoiceNumber }}
      </div>
      <div>
        <strong>Date&nbsp;:&nbsp;</strong
        >{{ currentDate | date : "yyyy-MM-dd" }}
      </div>
    </div>
    <hr />
    <div class="customer-details">
      <h4>Customer Information</h4>
      <div><strong>Name&nbsp;:&nbsp;</strong> {{ userDetail.name }}</div>
      <div><strong>Email&nbsp;:&nbsp;</strong> {{ userDetail.username }}</div>
    </div>
    <hr />

    <div class="tour-details">
      <h4>Tour Information</h4>
      <div><strong>Tour Name:</strong>{{tourName}}</div>
      <div><strong>Tour Date:</strong>{{date}}</div>
      <div><strong>Price:</strong>{{price | currency:'INR':'symbol':'1.0-0' }}</div>
      <div><strong>Booking Status:</strong>{{bookingStatus}}</div>
    </div>
    <div class="d-flex justify-content-evenly">
      <div><button class="btn btn-danger" (click)="togglePopupClose()">close</button></div>
     <div> <button class="btn btn-success" (click)="downloadInvoice()">Download</button></div>
    </div>
  </div>
</div>
